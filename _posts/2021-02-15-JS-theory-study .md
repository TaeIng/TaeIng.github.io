---
layout: post
title: How JavaScript works 용어설명 및 학습내용
author: 쓰는중
tags: [note, TIL]
excerpt_separator: <!--more-->
---

<h3>How JavaScript works에 기반한 자바스크립트 이론공부</h3>
 <!--more-->


유데미에서 영어강의로 자바스크립트를 공부하던 중, 자바스크립트에 대한 이론 파트에서 막혔다. 미천한 영어실력의 한계라 생각되어, 자바스크립트에 대해 잘 설명되어 있는 [How JavaScript works](https://engineering.huiseoul.com/search?q=%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EB%8A%94%20%EC%96%B4%EB%96%BB%EA%B2%8C%20%EC%9E%91%EB%8F%99%ED%95%98%EB%8A%94%EA%B0%80)를 번역한 것을 찾아 공부했다.

영어여서 이해를 못한 것이 아니었다. 한국말임에도 불구하고 한 문단을 이해하는데에만 30분씩 걸리기도 하였다. 이론에 대한 설명을 몰라 설명에 대한 설명을 찾고, 설명에 대한 설명을 몰라 설명에 대한 설명에 대한 설명을 찾는 식이었다. 스트레스도 많이 받고 생각보다 시간도 많이 걸렸지만, 덕분에 프로그래밍 기술에 대한 상식이 어느정도 생기게 되었다.

#### 기초 용어
- 트리(Tree) [Paper-Kim 블로그 참고](https://blog.naver.com/vsky712/220558382259)
- 노드(Node): 트리를 구성하는 기본 원소
- Branch/Link/Edge(가지/관계/링크/분기): 노드와 노드 간의 연결선
- Degree(각도): 각 노드가 가진 가지의 수
- Order(차수): 자식 노드들 중 자식을 최대로 보유한 개수
- Root node(루트노드): 최상위에 위치한 노드
- Left node(리프노드): Root가 아닌 노드
- Terminal node(단말노드): Degree가 0인 노드

#### How JavaScript works 용어

[code-bebop의 블로그](https://velog.io/@code-bebop/JS-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EB%A3%A8%ED%94%84-%EC%BD%9C%EB%B0%B1-%ED%81%90)를 많이 참고하였습니다.

- interpreter인터프리터(해석): 기계어를 한줄씩 해석하며 실행, ex)파이썬
- compiler컴파일(편집): 기계어를 한번에 해석 후 실행 ex) C/C++
- Garbage Collection(GC): 이미 할당된 메모리에서 더 이상 사용하지 않는 메모리를 해제하는 행동.
- ex메모리 청소부. Heap과 MethodArea에서 사용되지 않는 Object를 삭제한다
- Heap: 자료를 크기나 순서에 따라 이진트리 형태로 쌓은 것
- 단일 쓰레드(single-threaded) :OS시스템 함수의 도움으로 하나의 프로세스와 이에 속하는 스레드라는 자원을 할당받게 됨
- 콜백큐(callbac kqueue):웹 API에서 비동기 작업들이 실행된 후 호출되는 콜백 함수들을 기다리는 공간으로 여러개의 큐로 이루어져 있음. 이벤트 루프가 정해준 순서대로 선입선출 방식을 따른다.
- 데드락(Dead lock): 교착 상태’ 불리며 한정된 자원으로 인해 프로세스가 멈추어 버리는 현상
- 저스트인타임 컴파일(JIT compile): 동적번역이라고도 불리며 프로그램을 실제 실행하는 시점에서 기계어로 번역하는 컴파일 기법
- 딕셔너리(dictionary): { 사과 : apple , 바나나 : banana } 와 같은 key : value 구조
- 파라미터(parameter): 인수, 매개 변수
- 레지스터(register):  CPU 내부에 존재하는 아주 적은 데이터를 잠시 저장할 수 있는 공간이며, 하나의 명령어에서 다른 명령어 또는 운영체계가 제어권을 넘긴 다른 프로그램으로 데이터를 전달하기 위한 장소를 제공. 플립플롭(flip flop)으로 구성
- 동기(Syncronous): 요청을 보내고 해당 요청에 대한 응답을 받기 전 까지 다음 동작을 실행하지 않는다.
- 비동기(Ansyncoronous): 요청을 보내고 해당 요청에 대한 응답 여부에 상관없이 다음 동작을 실행한다.
- ajax: Asynchronous JavaScript and XML의 약자. 자바스크립트를 이용해서 비동기식으로 서버와 통신하는 방식
- 전역변수(global): var 등으로 정의한 변수로, 코드 어디에서나 접근 가능하다. 프로그램 실행 내내 메모리를 차지하고, 프로그램이 복잡해질수록 오류 발생확률이 높아져, 자제하는 것이 좋다.
- 지역변수(local): 변수가 선언된 영역 내에서만 사용 가능한 코드. 전역변수보다 우선순위가 높다.


#### 최적화된 자바스크립트 코드를 작성하는 방법

객체 속성의 순서: 객체 속성을 항상 같은 순서로 초기화해서 히든클래스 및 이후에 생성되는 최적화 코드가 공유될 수 있도록 합니다

동적 속성: 객체 생성 이후에 속성을 추가하는 것은 히든 클래스가 변하도록 강제하고 이전의 히든클래스를 대상으로 최적화되었던 모든 메소드를 느리게 만듭니다. 대신에 모든 객체의 속성을 생성자에서 할당합니다

메소드: 동일한 메소드를 반복적으로 수행하는 코드가 서로 다른 메소드를 한 번씩만 수행하는 코드 보다 더 빠르게 동작합니다(인라인 캐싱 때문)

배열: 값이 띄엄띄엄 있어서 키가 계속해서 증가하는 숫자가 되지 않는 배열은 피하는게 좋습니다. 모든 요소를 가지지는 않는 배열은 해시테이블입니다. 이와 같은 배열의 요소들은 접근하기에 많은 비용이 듭니다. 또한 커다란 배열을 미리 할당하지 않도록 하십시오. 사용하면서 크기가 커지도록 하는 게 낫습니다. 마지막으로 배열의 요소를 삭제하지 마십시오. 그 배열의 키가 띄엄띄엄 배치됩니다.

태깅된 값: V8은 객체와 숫자를 32비트로 표현합니다. 어떤 값이 오브젝트(flag = 1)인지 혹은 정수(flag = 0)인지는 SMI(Small Integer)라는 하나의 비트에 저장하고 이 때문에 31비트가 남습니다. 따라서 어떤 숫자가 31비트 보다 크면 V8은 이 숫자를 분리해서 더블 타입으로 전환한 다음 이 숫자를 넣을 새로운 객체를 생성합니다. 이러한 동작은 비용이 높으므로 가능한한 31비트의 숫자를 사용하도록 하십시오.

세션스택의 우리 개발자들은 고도로 최적화된 자바스크립트 코드를 작성하기 위해 이러한 베스트프랙티스를 따르려고 노력합니다. 왜냐하면 한 번 어떤 프로덕션 웹 앱이 세션스택에 통합화가 이루어지면 모든 것을 녹화하기 때문입니다. 모든 DOM의 변화와 사용자 상호작용, 자바스크립트 예외, 스택 트레이스, 네트워크 요청 실패, 디버깅 메세지 등이 포함됩니다.

세션스택을 이용하면 웹앱의 문제들을 비디오처럼 재생시켜 볼 수 있으며 사용자에게 일어나는 모든 것을 볼 수 있습니다. 그리고 이 모든 것들이 웹앱에는 서능 저하를 일으키지 않고 가능합니다.
무료로 시작할 수 있는 [플랜](http://app.sessionstack.com/)도 있습니다.


#### 배운 것

- 서로 다른 메소드를 수행하는 코드보다 동일한 메소드를 반복수행하는 코드가 더 빠르다.
- 중간중간 값이 비어있거나 어긋나는 배열보다 키가 계속해서 증가하는 배열이 더 빠르다.
- 객체속성이 같은 순서로 되어있어야 최적화 코드가 공유되어 더 빠르다.
- 최적화 코드가 수정되거나 사용하지 못하면 느려진다.
- 반복되는 함수호출로 데드락이 되지 않도록 해야한다.
- GC가 처리하지 못하는 코드작성(앞으로 필요없는 코드임에도 계속 참조되는 코드)을 지양해야 한다.
- 세션스택으로 웹의 성능이나 문제를 알 수 있다.